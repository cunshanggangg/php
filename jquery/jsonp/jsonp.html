<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jsonp的简单使用</title>
    <script src="../js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $.ajax({
//                url: 'http://localhost/php/jquery/jsonp/jspon.php',
                data:{name:'Super man'},
                dataType:'jsonp', // tried json
                url:'http://192.168.17.39/csg/jsonp.php',
                type:'GET',
                jsonp:'callback' ,// tried true
                jsonpCallback:'success_jsonCallback'
                //共有两种响应的方式，要么用success,要么用新建的回调函数。
//                success: function(response) {
//                    $("body").html('<h1>' + response.a + '</h1>');
////                    console.log(response.message);
////                    alert(response.message);
//                }
            });

        });

        //3种方法的不同写法
        // 1
        window.success_jsonCallback=function(data) {
//            console.log(data.name);
        $("body").append('<h1>' + data.message + '</h1>');
        };


        // 2
//        var success_jsonCallback = function(saveData) {
//            console.log(saveData);
//            if (saveData == null) {
//                alert("DATA IS UNDEFINED!");  // displays every time
//            }
//            alert("Success is " + saveData.message);  // 'Success is undefined'
//        };

//        // 3
//        function success_jsonCallback(data) {
//            alert(data.message);
//        }
    </script>
</head>
<body>

</body>
</html>